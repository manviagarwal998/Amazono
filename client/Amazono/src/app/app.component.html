<nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
    <div class="container-fluid">
        <a class="navbar-brand" routerLink="/">Amazon</a>
        <button class="navbar-toggler" type="button"  (click)="isCollapsed=!isCollapsed" >
        <span class="navbar-toggler-icon"></span>
        </button>

        <div  class="collapse navbar-collapse " id="navbarNav">
            <div class="input-group w-75">
                <input type="text" name="search" class="form-control" [(ngModel)]="searchTerm" (keyup.enter)="search()">
                <span id="searchBtn" class="bg-warning" (click)="search()">
                <i class="fa fa-search"></i>
                 </span>
            </div>

            <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                    <a (click)="collapse()"  class="nav-link" routerLink="/categories">Categories 
                        <span class="sr-only">(current)</span>
                    </a>
                </li
                >
                <li ngbDropdown class="nav-item  dropdown" #ngbDropdown="ngbDropdown" >
                    <a ngbDropdownToggle class="nav-link  dropdown-toggle" id="dropdown01" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        
                        <span *ngIf="!token"></span>
                        <i class="fa fa-user mr-1"></i>
                        <span *ngIf="data.user"> {{ data.user.name}}</span>   
                    </a>
                    <div ngbDropdownMenu class="dropdown-menu" aria-labelledby="dropdown01">
                        <a *ngIf="token"  class="dropdown-item"  routerLink="/profile">
                            <i class="fa fa-user-circle" area-hidden="true">Profile</i>
                        </a>
                        <a *ngIf="!token"  class="dropdown-item" routerLink="/login">
                            <i class="fa fa-key" area-hidden="true">
                            Login</i>
                        </a>
                        <a *ngIf="!token"  class="dropdown-item" routerLink="/register">
                            <i class="fa fa-group" area-hidden="true">
                          Register</i>
                        </a>
                        <a *ngIf="token" (click)="logout()" class="dropdown-item" routerLink="/login" (click)="logout()">
                            <i class="fa fa-key" area-hidden="true">
                          Logout</i>
                        </a>
                    </div>
                </li>
                <li class="nav-item ml-0 ml-md-2 active">
                    <a (click)="collapse()" class="nav-link" routerLink="/cart"><i class="fa fa-shopping-cart mr-1">  Cart</i>
                         
                       
                        <span class="badge badge-warning ml-1" *ngIf="data.cartItems"> {{ data.cartItems }} </span>
                    </a>
                </li>
            </ul>
        </div>
    </div>
</nav>

<router-outlet></router-outlet>

<footer id="main-footer" class="bg-dark text-white mt-5 p-4">
    <div class="container">
        <p class="lead text-center">Copyright &copy; 2018 Amazon</p>
    </div>

</footer>
